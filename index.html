<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Birthday Greeting</title>
    <style>
        /* Existing styles remain */

        /* Password overlay styles */
        .password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .lock-animation {
            font-size: 5em;
            margin-bottom: 20px;
            animation: lockShake 0.5s ease-in-out;
        }

        @keyframes lockShake {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(-20deg); }
            75% { transform: rotate(20deg); }
        }

        .password-input {
            padding: 15px;
            font-size: 1.2em;
            border: none;
            border-radius: 25px;
            margin: 10px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
        }

        /* Comment section styles */
        .comment-section {
            position: relative;
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .comments-container {
            max-height: 200px;
            overflow-y: auto;
            margin: 10px 0;
        }

        .comment {
            background: #f0f0f0;
            padding: 10px;
            margin: 5px 0;
            border-radius: 10px;
        }

        body {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .book-container {
            width: 100%;
            max-width: 800px;
            height: auto;
            aspect-ratio: 4/3;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .book-container {
                aspect-ratio: 1/1;
            }
        }
    </style>
</head>
<body>
    <!-- Password Overlay -->
    <div class="password-overlay" id="passwordOverlay">
        <div class="lock-animation">ðŸ”’</div>
        <input type="password" class="password-input" id="passwordInput" placeholder="Enter password">
        <button onclick="checkPassword()">Unlock</button>
    </div>

    <!-- Existing card content -->
    <!-- Add comment section at the end -->
    <div class="comment-section">
        <h3>Leave a Message</h3>
        <textarea id="commentInput" placeholder="Write your message..."></textarea>
        <button onclick="addComment()">Send</button>
        <div class="comments-container" id="commentsContainer"></div>
    </div>
      <script>
          // Password protection
          document.getElementById('passwordInput').addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                  checkPassword();
              }
          });

          function checkPassword() {
              const password = document.getElementById('passwordInput').value.trim().toLowerCase();
              const overlay = document.getElementById('passwordOverlay');
              
              if (password === "makasih") {
                  alert("Welcome! Enjoy your special greeting card! âœ¨");
                  overlay.style.display = 'none';
                  createConfetti();
              } else {
                  alert("Hint: The password is the Indonesian word for 'thank you' ðŸ¤”");
                  document.getElementById('passwordInput').value = '';
              }
          }

          function showFarewellMessage() {
              const message = "Thank you for visiting! Would you like to leave a message for the author?";
              if (confirm(message)) {
                  document.querySelector('.comment-section').style.display = 'block';
                  document.querySelector('.comment-section').scrollIntoView({ behavior: 'smooth' });
              }
          }

          // Add this to the prevPage function
          function prevPage() {
              document.getElementById("bookContainer").classList.remove("flipped");
              showFarewellMessage();
          }
          // Enhanced confetti animation
          function createConfetti() {
              for(let i = 0; i < 100; i++) {
                  const confetti = document.createElement('div');
                  confetti.classList.add('confetti');
                  confetti.style.left = Math.random() * 100 + 'vw';
                  confetti.style.animationDelay = Math.random() * 3 + 's';
                  confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                  document.body.appendChild(confetti);
                
                  setTimeout(() => confetti.remove(), 5000);
              }
          }

          // Comment functionality
          function addComment() {
              const commentInput = document.getElementById('commentInput');
              const commentsContainer = document.getElementById('commentsContainer');
            
              if (commentInput.value.trim() !== '') {
                  const comment = document.createElement('div');
                  comment.classList.add('comment');
                  comment.textContent = commentInput.value;
                  commentsContainer.appendChild(comment);
                
                  // Save comment to localStorage
                  const comments = JSON.parse(localStorage.getItem('comments') || '[]');
                  comments.push(commentInput.value);
                  localStorage.setItem('comments', JSON.stringify(comments));
                
                  commentInput.value = '';
              }
          }

          // Load existing comments
          window.addEventListener('load', () => {
              const comments = JSON.parse(localStorage.getItem('comments') || '[]');
              const commentsContainer = document.getElementById('commentsContainer');
            
              comments.forEach(comment => {
                  const commentDiv = document.createElement('div');
                  commentDiv.classList.add('comment');
                  commentDiv.textContent = comment;
                  commentsContainer.appendChild(commentDiv);
              });
          });

          // Add event listeners to ensure buttons are clickable
          document.addEventListener('DOMContentLoaded', function() {
              // Password button
              document.querySelector('.password-overlay button').addEventListener('click', checkPassword);
            
              // Card buttons
              document.querySelector('.page.front button').addEventListener('click', nextPage);
              document.querySelector('.page.back button').addEventListener('click', prevPage);
            
              // Comment button
              document.querySelector('.comment-section button').addEventListener('click', addComment);
          });
      </script>
    </script>
</body>
</html>

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; visibility: hidden; }
}

// Add dynamic elements
function addDecorations() {
    // Add clouds
    for(let i = 0; i < 3; i++) {
        const cloud = document.createElement('div');
        cloud.className = 'cloud';
        cloud.style.top = `${Math.random() * 50}%`;
        cloud.style.animationDelay = `${i * 3}s`;
        document.body.appendChild(cloud);
    }
    
    // Add cute animals
    const animals = ['ðŸ¦Š', 'ðŸ°', 'ðŸ¼', 'ðŸ¨'];
    animals.forEach((animal, i) => {
        const div = document.createElement('div');
        div.className = 'animal';
        div.textContent = animal;
        div.style.left = `${i * 25}%`;
        div.style.bottom = '20px';
        document.body.appendChild(div);
    });
}

// Call this when page loads
document.addEventListener('DOMContentLoaded', addDecorations);
